{% extends 'base.html.twig' %}

{% block title %}Dashboard {{user.pseudo}} {{parent()}}{% endblock %}

{% block body %}
<div class="container">
    <div class="title" id='title'>
        <h1>Dashboard</h1>
        <a href="{{ path('app_logout') }}" class="btn-title">Déconnexion<i
                class="fa-solid fa-arrow-right-from-bracket"></i></a>
    </div>
    <a href="{{ path('app_landing', {slug: user.slug}) }}" class="btn-admin">Voir le site</a>
    <div class="font-form">
        {{ form_start(formFont)}}
        {{ form_row(formFont.font)}}
        {{ form_row(formFont.save) }}
        {{ form_end(formFont) }}
    </div>
    <div class="sections">
        <section class="section-company" id="company">
            <div class="section-title">
                <h2>Section présentation</h2>
                <div class="visible">
                    {{ form_start(formVisibleCompany)}}
                    {{ form_row(formVisibleCompany.visible)}}
                    {{ form_row(formVisibleCompany.save) }}
                    {{ form_end(formVisibleCompany) }}
                </div>
            </div>
            <div class="section-content">
                <div class="form-user">
                    <h3>Information de la section</h3>
                    {{ form_start(formCompany)}}
                    {{ form_row(formCompany.logoFile)}}
                    {{ form_row(formCompany.title)}}
                    {{ form_row(formCompany.baseline)}}
                    <h3>Style de la section</h3>
                    {{ form_row(formCompany.bgColor)}}
                    {{ form_row(formCompany.titleColor)}}
                    {{ form_row(formCompany.baselineColor)}}
                    {{ form_row(formCompany.save) }}
                    {{ form_end(formCompany) }}
                </div>
                <div class="render">
                    <h3>Rendu sur le site</h3>
                    <img src="{{ asset('img/s1.png') }}" alt="">
                </div>
            </div>
        </section>
        <section class="section-video" id="video">
            <div class="section-title">
                <h2>Section vidéo</h2>
                <div class="visible">
                    {{ form_start(formVisibleVideo)}}
                    {{ form_row(formVisibleVideo.visible)}}
                    {{ form_row(formVisibleVideo.save) }}
                    {{ form_end(formVisibleVideo) }}
                </div>
            </div>
            <div class="section-content">
                <div class="form-user">
                    <h3>Information de la section</h3>
                    {{ form_start(formVideo)}}
                    {{ form_row(formVideo.link)}}
                    {{ form_row(formVideo.altVideo)}}
                    <h3>Style de la section</h3>
                    {{ form_row(formVideo.bgColor)}}
                    {{ form_row(formVideo.save) }}
                    {{ form_end(formVideo) }}
                </div>
                <div class="render">
                    <h3>Rendu sur le site</h3>
                    <img src="{{ asset('img/s2.png') }}" alt="">
                </div>
            </div>
        </section>
        <section class="section-discount" id="discount">
            <div class="section-title">
                <h2>Section codes promo</h2>
                <div class="visible">
                    {{ form_start(formVisibleDiscount)}}
                    {{ form_row(formVisibleDiscount.visible)}}
                    {{ form_row(formVisibleDiscount.save) }}
                    {{ form_end(formVisibleDiscount) }}
                </div>
            </div>
            <div class="section-content">
                <div class="form-user">
                    <h3>Information de la section</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Code promo</th>
                                <th>Description</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for code in codes %}
                                <tr>
                                    <td>{{code.code}}</td>
                                    <td>{{code.description}}</td>
                                    <td>
                                        <a href="{{ path('app_deleteCode', {id: code.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                                    </td>
                                </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <h4>Ajouter un code promo</h4>
                    {{ form_start(formCode)}}
                    {{ form_row(formCode.code)}}
                    {{ form_row(formCode.description)}}
                    {{ form_row(formCode.save) }}
                    {{ form_end(formCode) }}

                    <h3 class="title-style">Style de la section</h3>
                    {{ form_start(formDiscountStyle)}}
                    {{ form_row(formDiscountStyle.bgColor)}}
                    {{ form_row(formDiscountStyle.bgCodeColor)}}
                    {{ form_row(formDiscountStyle.textCodeColor)}}
                    {{ form_row(formDiscountStyle.bgCardColor)}}
                    {{ form_row(formDiscountStyle.textCardColor)}}
                    {{ form_row(formDiscountStyle.save) }}
                    {{ form_end(formDiscountStyle) }}
                </div>
                <div class="render">
                    <h3>Rendu sur le site</h3>
                    <img src="{{ asset('img/s3.png') }}" alt="">
                </div>
            </div>
        </section>
        <section class="section-link" id="link">
            <div class="section-title">
                <h2>Section liens utiles</h2>
                <div class="visible">
                    {{ form_start(formVisibleLink)}}
                    {{ form_row(formVisibleLink.visible)}}
                    {{ form_row(formVisibleLink.save) }}
                    {{ form_end(formVisibleLink) }}
                </div>
            </div>
            <div class="section-content">
                <div class="form-user">
                    <h3>Information de la section</h3>
                    <table>
                        <thead>
                            <tr>
                            <th>Nom</th>
                            <th>Lien</th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                            {% for link in links %}
                            <tr>
                                <td>{{link.name}}</td>
                                <td>{{link.link}}</td>
                                <td>
                                    <a href="{{ path('app_deleteLink', {id: link.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    <h4>Ajouter un lien</h4>
                    {{ form_start(formLink)}}
                    {{ form_row(formLink.name)}}
                    {{ form_row(formLink.link)}}
                    {{ form_row(formLink.save) }}
                    {{ form_end(formLink) }}
                    <h3 class="title-style">Style de la section</h3>
                    {{ form_start(formLinkStyle)}}
                    {{ form_row(formLinkStyle.bgColor)}}
                    {{ form_row(formLinkStyle.bgBtnColor)}}
                    {{ form_row(formLinkStyle.textBtnColor)}}
                    {{ form_row(formLinkStyle.save) }}
                    {{ form_end(formLinkStyle) }}
                </div>
                <div class="render">
                    <h3>Rendu sur le site</h3>
                    <img src="{{ asset('img/s4.png') }}" alt="">
                </div>
            </div>
        </section>
        <section class="section-rs" id="network">
            <div class="section-title">
                <h2>Section réseaux sociaux</h2>
                <div class="visible">
                    {{ form_start(formVisibleNetwork)}}
                    {{ form_row(formVisibleNetwork.visible)}}
                    {{ form_row(formVisibleNetwork.save) }}
                    {{ form_end(formVisibleNetwork) }}
                </div>
            </div>
            <div class="section-content">
                <div class="form-user">
                    <h3>Information de la section</h3>
                    {{ form_start(formNetwork)}}
                    <div class="network-form">
                        {{ form_row(formNetwork.instagram)}}
                        <a class="delete-network" href="{{ path('app_deleteNetwork', {name: "instagram", id: user.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                    </div>
                    <div class="network-form">
                        {{ form_row(formNetwork.facebook)}}
                        <a class="delete-network" href="{{ path('app_deleteNetwork', {name: "facebook", id: user.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                    </div>
                    <div class="network-form">
                        {{ form_row(formNetwork.youtube)}}
                        <a class="delete-network" href="{{ path('app_deleteNetwork', {name: "youtube", id: user.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                    </div>
                    <div class="network-form">
                        {{ form_row(formNetwork.gitHub)}}
                        <a class="delete-network" href="{{ path('app_deleteNetwork', {name: "gitHub", id: user.id}) }}"><i class="fa-solid fa-trash-can"></i></a>

                    </div>
                    <div class="network-form">
                        {{ form_row(formNetwork.twitter)}}
                        <a class="delete-network" href="{{ path('app_deleteNetwork', {name: "twitter", id: user.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                    </div>
                    <div class="network-form">
                        {{ form_row(formNetwork.tikTok)}}
                        <a class="delete-network" href="{{ path('app_deleteNetwork', {name: "tikTok", id: user.id}) }}"><i class="fa-solid fa-trash-can"></i></a>
                    </div>
                    {{ form_row(formNetwork.save) }}
                    {{ form_end(formNetwork) }}
                    <h3 class="title-style">Style de la section</h3>
                    {{ form_start(formNetworkStyle)}}
                    {{ form_row(formNetworkStyle.bgColor)}}
                    {{ form_row(formNetworkStyle.iconColor)}}
                    {{ form_row(formNetworkStyle.save) }}
                    {{ form_end(formNetworkStyle) }}
                </div>
                <div class="render">
                    <h3>Rendu sur le site</h3>
                    <img src="{{ asset('img/s5.png') }}" alt="">
                </div>
            </div>
        </section>
        <section class="section-account" id="user">
            <div class="section-title">
                <h2>Information du compte</h2>
            </div>
            <div class="section-content">
                <div class="form-user">
                    {{ form_start(formUser)}}
                    {{ form_row(formUser.email)}}
                    {{ form_row(formUser.pseudo)}}
                    {{ form_row(formUser.plainPassword)}}
                    {{ form_row(formUser.slug)}}
                    {{ form_row(formUser.save) }}
                    {{ form_end(formUser)}}
                </div>
                <a href="{{ path('app_deleteUser', {id: user.id}) }}" class="delete btn">Supprimer le compte</a>
            </div>
        </section>
    </div>
</div>
{% endblock %}